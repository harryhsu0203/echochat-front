#!/bin/bash

echo "ğŸš€ EchoChat Render å¿«é€Ÿéƒ¨ç½²è…³æœ¬"
echo "================================"

# æª¢æŸ¥ Git ç‹€æ…‹
echo "ğŸ“‹ æª¢æŸ¥ Git ç‹€æ…‹..."
if [ -n "$(git status --porcelain)" ]; then
    echo "âš ï¸  æœ‰æœªæäº¤çš„æ›´æ”¹ï¼Œæ­£åœ¨æäº¤..."
    git add .
    git commit -m "è‡ªå‹•éƒ¨ç½²æ›´æ–°: $(date)"
fi

# æ¨é€åˆ° GitHub
echo "ğŸ“¤ æ¨é€åˆ° GitHub..."
git push origin main

echo ""
echo "âœ… ä»£ç¢¼å·²æ¨é€åˆ° GitHub"
echo ""
echo "ğŸ¯ ä¸‹ä¸€æ­¥éƒ¨ç½²æ­¥é©Ÿï¼š"
echo ""
echo "ğŸ“‹ å¾Œç«¯éƒ¨ç½² (echochat-api):"
echo "1. å‰å¾€ https://render.com"
echo "2. é»æ“Š 'New +' â†’ 'Web Service'"
echo "3. é€£æ¥æ‚¨çš„ GitHub å€‰åº«: https://github.com/IAN1215/AI-CHATBOT"
echo "4. è¨­å®šï¼š"
echo "   - Name: echochat-backend"
echo "   - Root Directory: echochat-api"
echo "   - Environment: Node"
echo "   - Build Command: npm install"
echo "   - Start Command: npm start"
echo "   - Plan: Free"
echo ""
echo "ğŸ”§ ç’°å¢ƒè®Šé‡è¨­å®šï¼š"
echo "åœ¨ Render æ§åˆ¶å°ä¸­è¨­å®šä»¥ä¸‹ç’°å¢ƒè®Šé‡ï¼š"
echo "- NODE_ENV: production"
echo "- JWT_SECRET: [è‡ªå‹•ç”Ÿæˆ]"
echo "- PORT: 10000"
echo "- DATA_DIR: /opt/render/project/src/data"
echo "- LINE_CHANNEL_ACCESS_TOKEN: [æ‚¨çš„ Line Token]"
echo "- LINE_CHANNEL_SECRET: [æ‚¨çš„ Line Secret]"
echo "- OPENAI_API_KEY: [æ‚¨çš„ OpenAI Key]"
echo ""
echo "ğŸ“‹ å‰ç«¯éƒ¨ç½²é¸é …ï¼š"
echo ""
echo "é¸é … 1: Vercel (æ¨è–¦)"
echo "1. å‰å¾€ https://vercel.com"
echo "2. ä½¿ç”¨ GitHub å¸³è™Ÿç™»å…¥"
echo "3. é»æ“Š 'New Project'"
echo "4. é¸æ“‡æ‚¨çš„ GitHub å€‰åº«"
echo "5. è¨­å®šå°ˆæ¡ˆåç¨±ï¼šechochat-frontend"
echo "6. é»æ“Š 'Deploy'"
echo ""
echo "é¸é … 2: Render Static Site"
echo "1. å‰å¾€ https://render.com"
echo "2. é»æ“Š 'New +' â†’ 'Static Site'"
echo "3. é€£æ¥æ‚¨çš„ GitHub å€‰åº«"
echo "4. è¨­å®šï¼š"
echo "   - Name: echochat-frontend"
echo "   - Root Directory: ./"
echo "   - Build Command: echo 'Build completed'"
echo "   - Publish Directory: public"
echo ""
echo "ğŸ” éƒ¨ç½²å¾Œæª¢æŸ¥ï¼š"
echo "1. å¾Œç«¯ API: https://echochat-api.onrender.com/api/health"
echo "2. å‰ç«¯: æ‚¨çš„å‰ç«¯ URL"
echo "3. æ¸¬è©¦ç™»å…¥: sunnyharry1 / gele1227"
echo ""
echo "ğŸ“– è©³ç´°æŒ‡å—è«‹æŸ¥çœ‹: RENDER_DEPLOYMENT_GUIDE.md" 